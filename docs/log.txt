
TODO

1. Añadir limite de dinero a ganar por dia [Dinero inicial + beneficios] = [Dinero a ganar por dia] [TODO]
2. Implementar cierre manual de operaciones [DONE]
3. Implementar cierre automatico de operaciones [DONE]
4. Al salir de la aplicacion, si el simulador esta ejecutandose y hay operaciones abiertas, debe preguntar: "¿Desea cerrar todas las operaciones abiertas pendientes?" [DONE]
    - Si dice Sí, se cerraran todas las operaciones y se guardara el log
    - Si dice No, se guardara el log y se mantendran las operaciones abiertas
    - No se podra cerrar la aplicacion mientras haya operaciones abiertas.

Error al intentar cerrar posiciones abiertas


1- TESTEAR
quiero que al pulsar en label="Ver operaciones abiertas" se habra una venta modal, 
que no sea bloqueante y permita realizar otras acciones de la ventana padre, llame a la 
funcion _ver_operaciones_abiertas_action y muestra todas las operaciones abiertas con el siguiente formato:

titulo centrado "Operaciones abiertas"

Ticket: [numnero] | Volumen: [volumen] | P/L: [P/L] | Tipo: [long/short] | precio de apertura: [precio] | precio actual: [precio actual] | Boton "Cerrar Operación"

- El precio actual se ira actualizando en tiempo real
- El boton "Cerrar Operación" cerrara la operacion correspondiente y se mostrara en el log 
    (La implementacion de Cerrar operacion se realizara en el fichero close_operations.py)

- No necesita boton porque al hacer click sobre la X de la ventana se cerrara la ventana. 


2- TESTEAR
quiero que al pulsar en label="Cerrar operaciones" se habra una venta modal, 
que no sea bloqueante y permita realizar otras acciones de la ventana padre, llame a la 
funcion window_close_operations.py y muestra todas las operaciones abiertas con el siguiente formato:

titulo centrado "Operaciones abiertas"

Por cada operación se muestra lo siguiente:
En una fila Ticket: [numnero] | Volumen: [volumen] | P/L: [P/L] | Tipo: [long/short] | 
En una segunda fila: precio de apertura: [precio] | precio actual: [precio actual] 
En una tercera fila: 
    - Boton "Cerrar Operación" → cierra la operación inmediatamente al precio actual de mercado.
    - Boton "Modificar Operación" → te permite cambiar el stop loss (SL), take profit (TP) o incluso convertirla en una orden pendiente con condiciones específicas.
    - Botón "Cancelar operación" → esta opción aparece solo en órdenes pendientes (no en operaciones activas). Sirve para eliminar una orden que aún no ha sido ejecutada.

- El precio actual se ira actualizando en tiempo real
- El boton "Cerrar Operación" cerrara la operacion correspondiente y se mostrara en el log 
    (La implementacion de Cerrar operacion se realizara en el fichero manage_operations.py)
- El modal sera scrollable y se mostrara un scroll bonito.
- El modal debe actualizarse si alguna operación se cierra automaticamente o manualmente. 

- No necesita boton porque al hacer click sobre la X de la ventana se cerrara la ventana. 


3- TESTEAR
como puedes ver en header_builder.py, los siguientes botones inicialmente estan disabled:
simulation_menu.add_command(label="Ver operaciones abiertas", command=app._ver_operaciones_abiertas_action, state="disabled")
simulation_menu.add_command(label="Cerrar operaciones", command=app._cerrar_operaciones_action, state="disabled")
simulation_menu.add_command(label="Detener simulación", command=app._detener_simulacion_action, state="disabled")

quiero que cuando se inicie la simulación, tras cerrarse el modal simulation_strategies_modal.py y se apliquen las estrategias,
se habilite el boton "Ver operaciones abiertas", "Cerrar operaciones" y "Detener simulación" 
